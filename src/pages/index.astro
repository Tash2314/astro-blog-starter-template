---
import Layout from '../layouts/Layout.astro';
---

<Layout title="UHO-Minecraft">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap');

    main {
      background: radial-gradient(circle at top, #0d0d0d, #000);
      color: #00e6ff;
      font-family: 'Orbitron', sans-serif;
      text-align: center;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 2rem;
    }

    h1 {
      font-size: 3rem;
      text-shadow: 0 0 20px #00e6ff;
      margin-bottom: 10px;
    }

    p {
      font-size: 1.2rem;
      color: #b3ffff;
      max-width: 600px;
    }

    .player-count {
      font-size: 2rem;
      color: #39ff14;
      text-shadow: 0 0 10px #39ff14;
      margin: 20px 0;
    }

    .discord-btn {
      display: inline-block;
      margin-top: 30px;
      background: linear-gradient(90deg, #5865F2, #4e5cf3);
      color: white;
      text-decoration: none;
      padding: 15px 40px;
      border-radius: 10px;
      font-size: 1.1rem;
      box-shadow: 0 0 20px #5865F2;
      transition: 0.3s;
    }

    .discord-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 0 30px #00e6ff;
    }

    footer {
      margin-top: 80px;
      font-size: 0.9rem;
      color: #666;
    }
  </style>

  <main>
    <h1>UHO-Minecraft</h1>
    <p>Willkommen auf dem offiziellen Server â€“ Tritt unserer Community bei!</p>

    <div class="player-count" id="playerCount">Spieler: Lade...</div>

    <a href="https://discord.gg/DEIN-DISCORD-LINK" target="_blank" class="discord-btn">
      ðŸ”— Discord beitreten
    </a>

    <footer>
      Â© 2025 UHO-Minecraft.net | Alle Rechte vorbehalten
    </footer>
  </main>

  <script>
    async function updatePlayerCount() {
      try {
        const response = await fetch("https://api.mcsrvstat.us/2/uho-minecraft.net");
        const data = await response.json();
        const playerCountEl = document.getElementById("playerCount");
        if (data.online) {
          playerCountEl.textContent = `Spieler online: ${data.players.online} / ${data.players.max}`;
        } else {
          playerCountEl.textContent = "Server ist offline ðŸ˜´";
        }
      } catch (error) {
        document.getElementById("playerCount").textContent = "Fehler beim Laden ðŸ˜•";
      }
    }

    updatePlayerCount();
    setInterval(updatePlayerCount, 60000);
  </script>
</Layout>
